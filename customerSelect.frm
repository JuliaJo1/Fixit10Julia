{
  "!type": "Form",
  "_uuid": "6dcccd8b88204aecbf6052c0924aaf13",
  "HTML": "",
  "attributes": "",
  "background": "",
  "backgroundimage": "",
  "borderColor": "",
  "borderStyle": "",
  "borderWidth": "",
  "cached_js": "pw: JLJaybird32\n\n/*\n1. create global variables req and query and results if not already done\n 2. create SELECT query - that gets customer names to be displayed\n 3. look at query\n 4. test SELECT query in Database\n 5. run ajax call (which runs the query)\n\u00a0\u00a0\u00a0\u00a0> if transit works, parse results into JSON\n\u00a0\u00a0\u00a0\u00a0> if transit didn't work, tell user error in transit \n> user can select one customer\n> Used a sql Select\u00a0\u00a0query to get all of the customers whose state matches the state of the customer chosen by the user. \nSELECT * FROM customer WHERE state == \" \"\nlet state = \"SELECT * FROM customer WHERE state == userState\n> Used a textArea to show the user the matching customers, one per line, using a template literal.\n*/\n\ncustomerSelect.onshow=function() {\n\u00a0\u00a0txtResults_contents.style.height = \"200px\"\n//create select statement\nlet query = \"SELECT * FROM customer\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\n// Below change from my netID to yours (twice: user and database)\u00a0\u00a0\u00a0\u00a0\nlet req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=bgt15846&pass=\" + pw + \"&database=bgt15846&query=\" + query)\n\n\u00a0\u00a0if (req.status == 200) { //transit trip worked.\n\u00a0\u00a0\u00a0\u00a0//has all roqs for for ex hores records \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0results = JSON.parse(req.responseText)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(results)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n//showing all names of customer on the table\n\nif (results.length == 0)\u00a0\u00a0\u00a0\u00a0// no results were returned by the query\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lblmsg.value\u00a0\u00a0= \"There are no customers.\"\nelse \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(`the parsed JSON is ${results}`)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(`the first row/item in the big array is a small array: ${results[0]}`)\n//show all customer names \n\u00a0\u00a0for (i = 0; i <= results.length-1; i++) \n\u00a0\u00a0\u00a0\u00a0txtAllNames.addItem(results[i][1])\n}\n//when the user clicks a name \ntxtAllNames.onclick=function(){\n\u00a0\u00a0let nameCustomer = ' '\n\u00a0\u00a0let customerState = ' '\n\u00a0\u00a0let displayNames = [ ]\n\u00a0\u00a0\n\u00a0\u00a0\nif (typeof (s) == 'object') \n\u00a0\u00a0return\nelse\n\u00a0\u00a0\n\u00a0\u00a0//when user clicks a name have it be matched to a state \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//you have to have a match to where the user clicks the name and where the \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//possibly take this out\n\u00a0\u00a0txtAllNames.value = s\n\u00a0\u00a0//select the customer name \n\u00a0\u00a0nameCustomer = txtAllNames.selction \n\u00a0\u00a0//select the state to match the name\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length[i][1]; i++)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if(nameCustomer == results[i][1])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0customerState = results[i][4]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// break\n\u00a0\u00a0//allows the reults to be matched to a state - and adds to an array \n\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length[i][1]; i++)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (state == results[i][4])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0displayNames.push(results[i][1])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//write a select statement to show the state in the box \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0newQuery = `SELECT name FROM customer WHERE state = ${customerState}`\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=jlj26718&pass=\" + pw + \"&database=jlj26718&query=\" + query)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (req.status == 200) { //transit trip worked.\n\u00a0\u00a0\u00a0\u00a0//has all roqs for for ex hores records \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0results = JSON.parse(req.responseText)\n //PROBLEM WITH THE ELSE \n else \n\u00a0\u00a0\u00a0\u00a0let message = \" \"\n\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length-1; i++)\n\u00a0\u00a0\u00a0\u00a0message = message + results[i][0] + \"\\n\"\n\u00a0\u00a0\u00a0\u00a0txtAllStates.value = message\n\u00a0\u00a0\u00a0\u00a0\u00a0// end else\n\u00a0\u00a0else\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0txtAllStates = `Error code:\u00a0\u00a0+ req.status `",
  "cached_js_script_hash": "4e27316f431bc52decb12d080aa3e101",
  "children": [
    {
      "!type": "Textarea_bs4",
      "_uuid": "68de627ceee643ff983a9dcf144011ae",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "Textarea",
      "headerCols": 2,
      "height": 96,
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtAllNames",
      "inputmode": "",
      "left": 9,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 81,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": "auto"
    },
    {
      "!type": "Textarea_bs4",
      "_uuid": "bf88d489ef5343448dee465226f7c1f8",
      "align": "",
      "autocapitalize": "",
      "autocomplete": "",
      "autocorrect": "",
      "backgroundColor": "",
      "badge": "",
      "badgeAppearance": " badge-info",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "disabled": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "footer": "",
      "header": "Textarea",
      "headerCols": 2,
      "height": "auto",
      "hidden": "",
      "icon": "",
      "iconTitle": "",
      "id": "txtAllStates",
      "inputmode": "",
      "left": 26,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "maxlength": "",
      "name": "",
      "onchange": "",
      "onclick": "",
      "oncopy": "",
      "oncut": "",
      "onfocusin": "",
      "onfocusout": "",
      "oninput": "",
      "onkeypress": "",
      "onkeyup": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onpaste": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "placeholder": "Enter text here",
      "popBody": "Body",
      "popClose": "hover",
      "popPosition": "",
      "popStyle": "popover",
      "popTitle": "Title",
      "readonly": "",
      "required": "",
      "right": "auto",
      "rows": "",
      "script": "",
      "spellcheck": "true",
      "style": "",
      "top": 264,
      "validation": "",
      "value": "",
      "valueCols": 10,
      "width": 252
    },
    {
      "!type": "Label_bs4",
      "_uuid": "c7012fb0ecfd4cad885e3673a1e00e34",
      "appearance": "primary",
      "backgroundColor": "",
      "borderRadius": "0",
      "bottom": "auto",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "class": "",
      "color": "",
      "display": "",
      "expanded_pmp": true,
      "fontFamily": "",
      "fontSize": "",
      "fontStyle": "",
      "fontWeight": "",
      "height": "auto",
      "hidden": "",
      "id": "lblmsg",
      "labelStyle": "text",
      "left": 69,
      "mAll": "",
      "mBottom": "",
      "mLeft": "",
      "mRight": "",
      "mTop": "",
      "onclick": "",
      "onmousedown": "",
      "onmousemove": "",
      "onmouseout": "",
      "onmouseup": "",
      "onresize": "",
      "ontouchend": "",
      "ontouchmove": "",
      "ontouchstart": "",
      "pAll": "",
      "pBottom": "",
      "pLeft": "",
      "pRight": "",
      "pTop": "",
      "right": "auto",
      "script": "",
      "style": "",
      "top": 40,
      "value": "Label",
      "width": "auto"
    }
  ],
  "class": "",
  "designHeight": 0,
  "designWidth": 0,
  "expanded_pmp": true,
  "fullScreen": "true",
  "height": 460,
  "id": "customerSelect",
  "language": "JavaScript",
  "left": "0",
  "locked": false,
  "modal": "false",
  "onhide": "",
  "onkeypress": "",
  "onresize": "",
  "onshow": "customerSelect.onshow()",
  "openMode": "none",
  "parentForm": "",
  "position": "absolute",
  "script": "pw: JLJaybird32\n\n/*\n1. create global variables req and query and results if not already done\n 2. create SELECT query - that gets customer names to be displayed\n 3. look at query\n 4. test SELECT query in Database\n 5. run ajax call (which runs the query)\n\u00a0\u00a0\u00a0\u00a0> if transit works, parse results into JSON\n\u00a0\u00a0\u00a0\u00a0> if transit didn't work, tell user error in transit \n> user can select one customer\n> Used a sql Select\u00a0\u00a0query to get all of the customers whose state matches the state of the customer chosen by the user. \nSELECT * FROM customer WHERE state == \" \"\nlet state = \"SELECT * FROM customer WHERE state == userState\n> Used a textArea to show the user the matching customers, one per line, using a template literal.\n*/\n\ncustomerSelect.onshow=function() {\n\u00a0\u00a0txtResults_contents.style.height = \"200px\"\n//create select statement\nlet query = \"SELECT * FROM customer\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\n// Below change from my netID to yours (twice: user and database)\u00a0\u00a0\u00a0\u00a0\nlet req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=bgt15846&pass=\" + pw + \"&database=bgt15846&query=\" + query)\n\n\u00a0\u00a0if (req.status == 200) { //transit trip worked.\n\u00a0\u00a0\u00a0\u00a0//has all roqs for for ex hores records \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0results = JSON.parse(req.responseText)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(results)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0}\n//showing all names of customer on the table\n\nif (results.length == 0)\u00a0\u00a0\u00a0\u00a0// no results were returned by the query\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0lblmsg.value\u00a0\u00a0= \"There are no customers.\"\nelse \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(`the parsed JSON is ${results}`)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0console.log(`the first row/item in the big array is a small array: ${results[0]}`)\n//show all customer names \n\u00a0\u00a0for (i = 0; i <= results.length-1; i++) \n\u00a0\u00a0\u00a0\u00a0txtAllNames.addItem(results[i][1])\n}\n//when the user clicks a name \ntxtAllNames.onclick=function(){\n\u00a0\u00a0let nameCustomer = ' '\n\u00a0\u00a0let customerState = ' '\n\u00a0\u00a0let displayNames = [ ]\n\u00a0\u00a0\n\u00a0\u00a0\nif (typeof (s) == 'object') \n\u00a0\u00a0return\nelse\n\u00a0\u00a0\n\u00a0\u00a0//when user clicks a name have it be matched to a state \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//you have to have a match to where the user clicks the name and where the \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//possibly take this out\n\u00a0\u00a0txtAllNames.value = s\n\u00a0\u00a0//select the customer name \n\u00a0\u00a0nameCustomer = txtAllNames.selction \n\u00a0\u00a0//select the state to match the name\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length[i][1]; i++)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if(nameCustomer == results[i][1])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0customerState = results[i][4]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0// break\n\u00a0\u00a0//allows the reults to be matched to a state - and adds to an array \n\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length[i][1]; i++)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (state == results[i][4])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0displayNames.push(results[i][1])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0//write a select statement to show the state in the box \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0newQuery = `SELECT name FROM customer WHERE state = ${customerState}`\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0req = Ajax(\"https://ormond.creighton.edu/courses/375/ajax-connection.php\", \"POST\", \"host=ormond.creighton.edu&user=jlj26718&pass=\" + pw + \"&database=jlj26718&query=\" + query)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0if (req.status == 200) { //transit trip worked.\n\u00a0\u00a0\u00a0\u00a0//has all roqs for for ex hores records \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0results = JSON.parse(req.responseText)\n //PROBLEM WITH THE ELSE \n else \n\u00a0\u00a0\u00a0\u00a0let message = \" \"\n\u00a0\u00a0\u00a0\u00a0for (i = 0; i < results.length-1; i++)\n\u00a0\u00a0\u00a0\u00a0message = message + results[i][0] + \"\\n\"\n\u00a0\u00a0\u00a0\u00a0txtAllStates.value = message\n\u00a0\u00a0\u00a0\u00a0\u00a0// end else\n\u00a0\u00a0else\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0txtAllStates = `Error code:\u00a0\u00a0+ req.status `",
  "setFocusID": "",
  "style": "",
  "theme": "",
  "top": "0",
  "width": 320,
  "_functions": [
    {
      "!type": "Form",
      "_uuid": "2af2b61114e14afc8b02770d6dae077b",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "customerSelect.onshow",
      "location": [
        17,
        18
      ],
      "script": "",
      "signature": "customerSelect.onshow()"
    },
    {
      "!type": "Form",
      "_uuid": "0d2d24766d154ded8a4d4f8dfcdaf5bc",
      "cached_js": "",
      "cached_js_script_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "children": [],
      "expanded_pmp": true,
      "id": "txtAllNames.onclick",
      "location": [
        42,
        43
      ],
      "script": "",
      "signature": "txtAllNames.onclick()"
    }
  ]
}